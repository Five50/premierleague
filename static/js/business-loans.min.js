!function(){"use strict";function t(t,e){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),t(...o)},e)}}function e(){!function(){const t=document.getElementById("toc-list");if(!t)return;const e=document.querySelectorAll("h2:not(#loan-filter-heading), h3, h4");if(!e.length){const t=document.getElementById("dynamic-toc");return void(t&&(t.style.display="none"))}const n=document.createDocumentFragment();e.forEach(t=>{const e=t.textContent.trim();if(!e)return;t.id||(t.id=e.toLowerCase().replace(/[åä]/g,"a").replace(/ö/g,"o").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim());const o=document.createElement("li"),r=document.createElement("a");r.href="#"+t.id,r.className="text-blue-400 hover:text-blue-300 transition-colors",r.textContent=e,"H3"===t.tagName?o.style.marginLeft="1rem":"H4"===t.tagName&&(o.style.marginLeft="2rem"),o.appendChild(r),n.appendChild(o)}),t.appendChild(n)}(),function(){const e=document.getElementById("loanAmountSlider"),n=document.getElementById("loanAmountDisplay");if(!e||!n)return;function o(t){return Math.round(t).toLocaleString("sv-SE").replace(/,/g," ")}const r=t(()=>{const t=e.value,r=e.min,c=e.max,l=(t-r)/(c-r)*100;n.value=o(t),e.style.setProperty("--value",l+"%"),document.querySelectorAll(".loan-amount").forEach(e=>{e.textContent=o(t)+" SEK"})},10);e.addEventListener("input",r),n.addEventListener("input",t(function(){const t=parseInt(this.value.replace(/\s/g,""))||0;t>=1e4&&t<=3e7&&(e.value=t,r())},300)),n.addEventListener("blur",r),r()}(),function(){const e=document.getElementById("loanAmount"),n=document.getElementById("interestRate"),o=document.getElementById("loanTerm");if(!e||!n||!o)return;function r(t,e=0){const n=(e>0?t.toFixed(e):Math.round(t)).toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),n.join(",")}function c(t){return parseFloat(String(t).replace(/\s/g,"").replace(",","."))||0}const l=t(()=>{const t=c(e.value)||0,l=c(n.value)||0,a=c(o.value)||0,s=document.getElementById("monthlyPayment"),i=document.getElementById("totalLoanAmount"),u=document.getElementById("totalInterest"),d=document.getElementById("totalPayment");if(!(s&&i&&u&&d))return;if(t<=0||l<=0||a<=0)return s.textContent="0 kr",i.textContent="0 kr",u.textContent="0 kr",void(d.textContent="0 kr");const m=l/100/12,g=t*(m*Math.pow(1+m,a))/(Math.pow(1+m,a)-1),f=g*a,p=f-t;requestAnimationFrame(()=>{s.textContent=r(g,2)+" kr",i.textContent=r(t)+" kr",u.textContent=r(p,2)+" kr",d.textContent=r(f,2)+" kr"})},150);e.addEventListener("input",l),n.addEventListener("input",l),o.addEventListener("input",l),l()}(),function(){const t=document.querySelectorAll('#best-business-loans th[scope="col"]');if(!t.length)return;t.forEach((e,n)=>{e.style.cursor="pointer",e.addEventListener("click",function(){const o=document.querySelector("#best-business-loans tbody");if(!o)return;const r=Array.from(o.querySelectorAll("tr")),c=e.classList.contains("sorted-asc");t.forEach(t=>t.classList.remove("sorted-asc","sorted-desc")),r.sort((t,e)=>{const o=t.cells[n].getAttribute("data-sort-value")||t.cells[n].textContent,r=e.cells[n].getAttribute("data-sort-value")||e.cells[n].textContent;return c?r.localeCompare(o):o.localeCompare(r)}),e.classList.add(c?"sorted-desc":"sorted-asc");const l=document.createDocumentFragment();r.forEach(t=>l.appendChild(t)),o.appendChild(l)})})}(),function(){const e=document.querySelector(".table-container .overflow-x-auto");if(!e)return;const n=e.closest(".table-container");if(!n)return;const o=t(()=>{const t=e.scrollWidth-e.clientWidth,o=e.scrollLeft;n.classList.toggle("scrolled-left",o>10),n.classList.toggle("scrolled-right",o>=t-10)},10);e.addEventListener("scroll",o,{passive:!0}),o()}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();