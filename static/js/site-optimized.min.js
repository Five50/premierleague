!function(){"use strict";function e(e,t){let r;return function(...a){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...a)},t)}}function t(e,t=0){const r=(t>0?e.toFixed(t):Math.round(e)).toString().split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),r.join(",")}function r(e){return parseFloat(String(e).replace(/\s/g,"").replace(",","."))||0}function a(){document.querySelectorAll("details.faq-item").forEach(e=>{const t=e.querySelector("summary");t&&t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.open=!e.open)})}),document.querySelectorAll("[data-accordion-button]").forEach(e=>{e.addEventListener("click",function(){const t=e.closest(".accordion-item").querySelector(".accordion-content, [data-accordion-content]"),r=e.querySelector(".accordion-icon, svg"),a=!t.classList.contains("hidden"),o=e.closest("[data-accordion]");o&&"true"!==o.dataset.accordionMultiple&&o.querySelectorAll(".accordion-content, [data-accordion-content]").forEach(e=>{if(e!==t){e.classList.add("hidden");const t=e.parentElement.querySelector(".accordion-icon, svg");t&&t.classList.remove("rotate-180","rotate-45")}}),a?(t.classList.add("hidden"),r&&r.classList.remove("rotate-180","rotate-45")):(t.classList.remove("hidden"),r&&r.classList.add("rotate-180"))}),e.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})}),document.querySelectorAll('input[type="range"].slider').forEach(a=>{const o=a.getAttribute("data-display"),n=o?document.getElementById(o):null,s=e(()=>{const e=a.value,r=a.min,o=(e-r)/(a.max-r)*100;a.style.setProperty("--value",o+"%"),n&&(n.value=t(e)),a.dispatchEvent(new CustomEvent("rangeupdate",{detail:{value:e,percentage:o}}))},10);a.addEventListener("input",s),n&&n.addEventListener("input",e(function(){const e=r(this.value),t=parseFloat(a.min),o=parseFloat(a.max);e>=t&&e<=o&&(a.value=e,s())},300)),s()}),document.querySelectorAll("[data-calculator]").forEach(a=>{const o=a.querySelector("[data-amount]"),n=a.querySelector("[data-rate]"),s=a.querySelector("[data-term]"),c=a.querySelector("[data-monthly]"),l=a.querySelector("[data-total]"),i=a.querySelector("[data-interest]");if(!o||!n||!s)return;const d=e(()=>{const e=r(o.value)||0,a=r(n.value)||0,d=r(s.value)||0;if(e<=0||a<=0||d<=0)return c&&(c.textContent="0 kr"),l&&(l.textContent="0 kr"),void(i&&(i.textContent="0 kr"));const u=a/100/12,m=e*(u*Math.pow(1+u,d))/(Math.pow(1+u,d)-1),f=m*d,v=f-e;requestAnimationFrame(()=>{c&&(c.textContent=t(m,2)+" kr"),l&&(l.textContent=t(f,2)+" kr"),i&&(i.textContent=t(v,2)+" kr")})},150);o.addEventListener("input",d),n.addEventListener("input",d),s.addEventListener("input",d),d()}),document.querySelectorAll("table[data-sortable]").forEach(e=>{const t=e.querySelectorAll("th[data-sort]");t.forEach((r,a)=>{r.style.cursor="pointer",r.setAttribute("tabindex","0"),r.setAttribute("role","button");const o=()=>{const o=e.querySelector("tbody");if(!o)return;const n=Array.from(o.querySelectorAll("tr")),s=r.classList.contains("sorted-asc");t.forEach(e=>e.classList.remove("sorted-asc","sorted-desc")),n.sort((e,t)=>{const r=e.cells[a]?.getAttribute("data-sort-value")||e.cells[a]?.textContent||"",o=t.cells[a]?.getAttribute("data-sort-value")||t.cells[a]?.textContent||"",n=parseFloat(r),c=parseFloat(o);return isNaN(n)||isNaN(c)?s?o.localeCompare(r,"sv-SE"):r.localeCompare(o,"sv-SE"):s?c-n:n-c}),r.classList.add(s?"sorted-desc":"sorted-asc");const c=document.createDocumentFragment();n.forEach(e=>c.appendChild(e)),o.appendChild(c)};r.addEventListener("click",o),r.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o())})})}),document.querySelectorAll("[data-tabs]").forEach(e=>{const t=e.querySelectorAll("[data-tab-button]"),r=e.querySelectorAll("[data-tab-panel]");t.forEach(e=>{e.addEventListener("click",()=>{const a=e.getAttribute("data-tab-button");t.forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-selected","false")}),e.classList.add("active"),e.setAttribute("aria-selected","true"),r.forEach(e=>{e.getAttribute("data-tab-panel")===a?(e.classList.remove("hidden"),e.setAttribute("aria-hidden","false")):(e.classList.add("hidden"),e.setAttribute("aria-hidden","true"))})})})}),document.querySelectorAll(".overflow-x-auto").forEach(t=>{const r=t.closest(".table-container");if(!r)return;const a=e(()=>{const e=t.scrollWidth-t.clientWidth,a=t.scrollLeft;r.classList.toggle("scrolled-left",a>10),r.classList.toggle("scrolled-right",a>=e-10)},10);t.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",a,{passive:!0}),a()}),function(){if("loading"in HTMLImageElement.prototype)document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.complete||(e.classList.add("loading"),e.addEventListener("load",()=>{e.classList.remove("loading"),e.classList.add("loaded")}))});else{const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const r=e.target;r.src=r.dataset.src,r.classList.remove("loading"),r.classList.add("loaded"),t.unobserve(r)}})});document.querySelectorAll("img[data-src]").forEach(t=>e.observe(t))}}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const r=document.querySelector(t);if(r){e.preventDefault();const a=80,o=r.getBoundingClientRect().top+window.pageYOffset-a;window.scrollTo({top:o,behavior:"smooth"}),history.pushState(null,null,t)}})}),document.querySelectorAll("form[data-validate]").forEach(e=>{e.addEventListener("submit",function(t){let r=!0;e.querySelectorAll("input[required], select[required], textarea[required]").forEach(e=>{if(e.value.trim()){e.classList.remove("error");const t=e.parentElement.querySelector(".error-message");t&&t.remove()}else{r=!1,e.classList.add("error");let t=e.parentElement.querySelector(".error-message");t||(t=document.createElement("span"),t.className="error-message text-red-500 text-sm mt-1",t.textContent="This field is required",e.parentElement.appendChild(t))}}),r||t.preventDefault()})})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.SiteUtils={debounce:e,formatNumber:t,parseNumber:r,init:a}}();