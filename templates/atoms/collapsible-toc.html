{% load i18n %}
<!-- Collapsible Table of Contents Atom -->
<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8" x-data="{ tocOpen: false }">
    <button @click="tocOpen = !tocOpen"
            class="flex items-center justify-between w-full text-left font-semibold text-blue-900 hover:text-blue-700 transition-colors">
        <span class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
            </svg>
            {% trans "Table of Contents" %}
        </span>
        <svg class="w-5 h-5 transition-transform duration-200"
             :class="{ 'rotate-180': tocOpen }"
             fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
        </svg>
    </button>

    <div x-show="tocOpen"
         x-collapse
         class="mt-4 space-y-2">
        <nav class="text-sm">
            {% block toc_content %}
            <!-- Table of contents items will be inserted here -->
            {% endblock %}
        </nav>
    </div>
</div>